{%- set ktorFeatures = pillar.modules.backend.ktor.server.features -%}
{%- set gateways = pillar.modules.backend.gateways -%}
package {{ packageId }}.{{ projectName }}

{% if ktorFeatures.sessions.selected -%}
// --------------------------------------------------------
// SESSION
// --------------------------------------------------------

data class Session(
    val username: String,
    val expireDate: String
)
{%- endif -%}

// --------------------------------------------------------
// CONFIG
// --------------------------------------------------------

data class Config(
    val bannerBackgroundColor: String,
    val bannerMenuBackgroundColor: String
)

{% if 'confluence' in gateways -%}
// --------------------------------------------------------
// Confluence
// --------------------------------------------------------

data class Language(
    val code: String,
    val displayName: String
)

data class KbPage(
    val id: Int,
    val title: String
)

data class KbSearchResult(
    val page: KbPage,
    val titleHighlight: String,
    val excerptHighlight: String
)
{%- endif -%}
{% if 'insight' in gateways -%}
// --------------------------------------------------------
// Insight
// --------------------------------------------------------

interface InsightObject {
    val id: Int
    val name: String
}

data class Service(
    override val id: Int,
    override val name: String,
    val status: String?
) : InsightObject

{%- endif -%}

{% if 'jira' in gateways -%}
// --------------------------------------------------------
// JIRA
// --------------------------------------------------------

data class Ticket(
    val key: String,
    val closed: Boolean,
    val data: TicketData
)

data class TicketData(
    val serviceId: Int?,
    val summary: String?,
    val description: String?,
    val incidentId: String
)
{%- endif -%}
